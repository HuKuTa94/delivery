# Delivery

## Тесты
Конвенция по написанию тестов.

### Глоссарий:
- **sut (System Under Test)** — тестируемая система или класс.
  Термин используется для обозначения тестируемого объекта, который создаётся в каждом тесте в секции **Given**,
  либо задаётся в поле тестового класса и используется всеми тестами.
- **test fixtures** — фабрики для создания валидных доменных объектов, используемых в тестах бизнес-логики. 
  Они доступны только из тестов и других **test fixtures**.

### Структура тестов
Тесты строятся по схеме **GWT (AAA)**:
- **Given (Arrange)** — секция подготовки данных и окружения.
- **When (Act)** — секция действия. Если здесь более одной строки, это признак проблем с API тестируемой системы.
- **Then (Assert)** — секция проверки ожидаемого результата.

### Именование тестов:
- Не используйте жесткую структуру именования тестов.
- Не включайте имя тестируемого метода или функции в название теста.
- Присваивайте имена тестам так, как если бы вы описывали сценарий непрограммисту, знакомому
  с предметной областью.

### Тестовые данные для тестов:
- Переиспользование кода инициализации тестовых данных (не являющихся **sut**) осуществляется 
  через **фабричные функции** из **test fixtures**.
- на каждый доменный класс (кроме enum) создается отдельный **kotlin** файл с набором фабричных функций
- все фабричные функции в **test fixtures** должны начинаться со слова **new**
- в названии фабричной функции должно отражаться состояние создаваемого объекта
